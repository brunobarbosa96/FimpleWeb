@model IEnumerable<Home.Models.Entity.Notificacao>
@{ Layout = null; }

<li class="dropdown dropdown-extended dropdown-notification" id="header_notification_bar">
    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
        <i class="icon-bell"></i>
        <span class="badge badge-warning" data-count-notification>@Model.Count()</span>
    </a>
    @* -- NOTIFICAÇÕES -- *@
    <ul class="dropdown-menu">
        <li class="external">
            <h3>
                <span class="bold" data-count-notification>@Model.Count()</span> notificações
            </h3>
        </li>
        <li>
            <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283">
                @if (Model != null && Model.Any())
                {
                    foreach (var notificacao in Model)
                    {
                        if (notificacao.Publicacao != null)
                        {
                            <li onclick="putNotificacao('@notificacao.Id')">
                                <a href="javascript:;">
                                    <span class="time">Há algum tempo</span>
                                    <span class="details">
                                        <span class="label label-sm label-icon label-info">
                                            <i class="fa fa-bullhorn"></i>
                                        </span>
                                        @($"{notificacao.Usuario.NomeCompleto} comentou sua publicação")
                                    </span>
                                </a>
                            </li>
                        }
                    }
                }
            </ul>
        </li>
    </ul>
</li>
